<md-content layout-padding layout-fill layout-align="center center" layout="column">

    <h2>Encontre Unidades de Saude!</h2>

    <form name="buscaUnidadesForm"
          style="margin:0;"
          data-ng-submit="buscaUnidadesForm.$valid && unidadeBuscaCtrl.buscarUnidades(textoPesquisa)">
        <div class="md-toolbar-tools search-bar" layout-align="center">

            <md-input-container>
                <label>Buscar por</label>
                <md-select ng-model="unidadeBuscaCtrl.filtroPesquisa" required>
                    <md-option value="bairro">Bairro</md-option>
                    <md-option value="especialidade">Especialidade</md-option>
                </md-select>
            </md-input-container>

            <md-input-container>
                <input placeholder="Pesquisa" data-ng-model="textoPesquisa" required/>
            </md-input-container>

            <md-button class="md-icon-button"
                       ng-disabled=""
                       layout-align="center"
                       type="submit"
                       aria-label="Pesquisar">
                <md-icon layout layout-align="center">search</md-icon>
            </md-button>
        </div>
    </form>

    <div ng-if="unidadeBuscaCtrl.isResultadoPesquisa">
        <md-list ng-if="unidadeBuscaCtrl.unidades.length > 0">
            <md-subheader class="md-no-sticky">Unidades encontradas</md-subheader>
            <md-list-item class="md-3-line"
                          ng-repeat="unidade in unidadeBuscaCtrl.unidades"
                          ng-click="unidadeBuscaCtrl.verDetalhes(unidade)">
                <div class="md-list-item-text" layout="column">
                    <h3>{{ unidade.getTipoFormatado() }}</h3>
                    <h4>{{ unidade.descricao }}</h4>
                </div>
            </md-list-item>
        </md-list>

        <h2 ng-if="unidadeBuscaCtrl.unidades.length === 0">Nenhuma unidade encontrada</h2>
    </div>


</md-content>